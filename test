<AuthorizeView>
    <Authorized>
        <Spinner IsVisible="IsSpinnerVisible" />
        <div class="d-flex full-height">
            <NavMenu></NavMenu>
            <div class="flex-grow-1">
                <header class="px-2">
                    <AdminHeader></AdminHeader>
                </header>
                <main class="px-2">
                    @* @context.User.Identity.Name *@


                    <BlazoredToasts Position="ToastPosition.TopRight"
                                    Timeout="10"
                                    IconType="IconType.FontAwesome"
                                    SuccessClass="success-toast-override"
                                    SuccessIcon="fa fa-thumbs-up"
                                    ErrorIcon="fa fa-bug"
                                    ShowProgressBar="true" />

                    <CustomErrorBoundary @ref="errorBoundary">
                        <ChildContent>
                            <div class="container">
                                @Body
                            </div>
                        </ChildContent>

                        <ErrorContent Context="Exception">
                            <div class="alert alert-primary">
                                <h3> @Localizer["ErrorBounderyOccurred"]</h3>
                                <button class="btn btn-info" @onclick="() => errorBoundary.Recover()"> @Localizer["BtnTryAgain"]</button>
                            </div>

                        </ErrorContent>

                    </CustomErrorBoundary>

                    <div style="margin-top: 160px">
                        <footer class="px-2 d-flex justify-content-between align-items-center">
                            <p class="text-muted fw-lighter mb-0" style="font-size: 14px">
                                الادارة العامة للجمارك - 2024
                            </p>
                        </footer>
                    </div>
                </main>
            </div>
        </div>
    </Authorized>
    <NotAuthorized>
        <Spinner IsVisible="IsSpinnerVisible" />
        <CustomErrorBoundary @ref="errorBoundary">
            <ChildContent>
                <BlazoredToasts Position="ToastPosition.TopRight"
                                Timeout="10"
                                IconType="IconType.FontAwesome"
                                SuccessClass="success-toast-override"
                                SuccessIcon="fa fa-thumbs-up"
                                ErrorIcon="fa fa-bug"
                                ShowProgressBar="true" />
                <Login></Login>
            </ChildContent>

            <ErrorContent Context="Exception">
                <div class="alert alert-primary">
                    <h3> @Localizer["ErrorBounderyOccurred"]</h3>
                    <button class="btn btn-info" @onclick="() => errorBoundary.Recover()"> @Localizer["BtnTryAgain"]</button>
                </div>

            </ErrorContent>

        </CustomErrorBoundary>
    </NotAuthorized>
</AuthorizeView>
